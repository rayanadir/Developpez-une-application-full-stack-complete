<main class="main-login">
    <mat-card class="card">

        <mat-card-header class="card-header" fxLayoutAlign="center center">
            <mat-card-title class="title">Se connecter</mat-card-title>
        </mat-card-header>
        
        <form class="login-form" [formGroup]="form" (ngSubmit)="submit()">
            <mat-card-content class="card-content" fxLayout="column">
                
                <mat-label class="label">Email</mat-label>
                <mat-form-field class="field">
                    <input matInput type="email" formControlName="email">
                </mat-form-field>

                <mat-label class="label">Mot de passe</mat-label>
                <mat-form-field class="field password">
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                    <button class="visibility" mat-icon-button matSuffix (click)="hide = !hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </mat-form-field>

            </mat-card-content>

            <button mat-raised-button type="submit" [disabled]="form.invalid">Se connecter</button>
            <p *ngIf="onError">Erreur: email ou mot de passe incorrect !</p>
            <div *ngIf="loading" class="loading" style="margin-top: 1rem;">
                <mat-spinner [diameter]="60"></mat-spinner>
            </div>
        </form>

    </mat-card>
</main>
